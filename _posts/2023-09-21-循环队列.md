# Java实现循环队列（基于数组）

> `循环队列`又被称为`环形队列`，是基于数组实现的；核心思想是设计双指针与取模思想。

## 实现思路
1. 定义两个指针front和rear；约定front指向队列的第一个元素，为队列的头；约定rear指向队列可以存储元素的位置；
2. rear指针指向的位置存储了新的元素后，rear指针需要向后走一步；
3. front指针向后走一步，表示最前面的元素出队；
4. 当front指针追上rear指针时，也就是front与rear相等时，表示队列为空；
5. 当rear指针追上front指针时，也就是（rear+1）%arr.length == front时，表示队列已满；
6. 实现过程中牺牲了一个空间来判断队列是否为满的，需要优化；
7. 因为是队列是循环，所以要时刻注意数组越界问题，front和rear做+1时，不能大于数组的长度；

## 代码实现
```java

package exams.day20230918;

import java.util.Arrays;
import java.util.Objects;

/**
 * 基于数据实现一个循环队列
 */
public class MyCircularQueue {

    /**
     * 队首指针，默认为0
     */
    private int front;

    /**
     * 队尾指针，默认为0
     */
    private int rear;

    /**
     * 队列存储的数组，根据给定的长度进行初始化
     */
    private final int[] arr;

    public MyCircularQueue(int length) {
        this.arr = new int[length];
        this.front = 0;
        this.rear = 0;
    }

    /**
     * 给队列添加元素
     *
     * @param value 要加如队列的元素
     * @return 元素加入是否成功
     */
    public boolean add(int value) {
        // 判断队列是否为空
        if (isFull()) {
            return false;
        }
        arr[rear] = value;
        // 因为是队列是循环，所以要时刻注意数组越界问题
        rear = (rear + 1) % arr.length;
        return true;
    }

    /**
     * 删除队尾元素
     * 
     * @return 元素是否删除成功
     */
    public boolean remove() {
        if (isEmpty()) {
            return false;
        }
        // 因为是队列是循环，所以要时刻注意数组越界问题
        front = (front + 1) % arr.length;
        return true;
    }

    public boolean isEmpty() {
        return Objects.equals(front, rear);
    }

    public boolean isFull() {
        return Objects.equals((rear + 1) % arr.length, front);
    }

    @Override
    public String toString() {
        return "MyCircularQueue{" + "front=" + front + ", rear=" + rear + ", arr=" + Arrays.toString(arr) + '}';
    }

    public static void main(String[] args) {
        MyCircularQueue queue = new MyCircularQueue(6);
        System.out.println(queue);
        System.out.println("添加第一个元素：" + queue.add(1));
        System.out.println(queue);
        System.out.println("添加第二个元素：" + queue.add(2));
        System.out.println("添加第三个元素：" + queue.add(3));
        System.out.println("添加第四个元素：" + queue.add(4));
        System.out.println("添加第五个元素：" + queue.add(5));
        System.out.println(queue);
        System.out.println("添加第六个元素：" + queue.add(6));
        System.out.println(queue);
        System.out.println("队首元素出队：" + queue.remove());
        System.out.println(queue);
        System.out.println("添加第六个元素：" + queue.add(6));
        System.out.println(queue);
        System.out.println("队首元素出队：" + queue.remove());
        System.out.println("添加第七个元素：" + queue.add(7));
        System.out.println(queue);
    }
}
```

## 运行结果

```
MyCircularQueue{front=0, rear=0, arr=[0, 0, 0, 0, 0, 0]}
添加第一个元素：true
MyCircularQueue{front=0, rear=1, arr=[1, 0, 0, 0, 0, 0]}
添加第二个元素：true
添加第三个元素：true
添加第四个元素：true
添加第五个元素：true
MyCircularQueue{front=0, rear=5, arr=[1, 2, 3, 4, 5, 0]}
添加第六个元素：false
MyCircularQueue{front=0, rear=5, arr=[1, 2, 3, 4, 5, 0]}
队首元素出队：true
MyCircularQueue{front=1, rear=5, arr=[1, 2, 3, 4, 5, 0]}
添加第六个元素：true
MyCircularQueue{front=1, rear=0, arr=[1, 2, 3, 4, 5, 6]}
队首元素出队：true
添加第七个元素：true
MyCircularQueue{front=2, rear=1, arr=[7, 2, 3, 4, 5, 6]}

Process finished with exit code 0
```


